services:
    sil_account.transformer.array_to_account:
        class: Sil\Bundle\AccountBundle\Form\DataTransformer\ArrayToAccountTransformer
        arguments: ['@sil.repository.account']

    sil_account.form.type.account:
        class: Sil\Bundle\AccountBundle\Form\Type\AccountFormType
        arguments:
            - '@sil_account.transformer.array_to_account'
            - '%sil.model.account_type.class%'
        tags: ['form.type']

    sil_account.controller.account:
        class: Sil\Bundle\AccountBundle\Controller\AccountController
        calls:
            - [setAccountRepository, ['@sil.repository.account']]
            - [setContactRepository, ['@sil.repository.contact']]
